(function(e){let a=`<svg  xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid" style="shape-rendering: auto; display: block; background: transparent;" width="20" height="20" xmlns:xlink="http://www.w3.org/1999/xlink"><g><circle stroke-dasharray="164.93361431346415 56.97787143782138" r="35" stroke-width="9" stroke="#ffffff" fill="none" cy="50" cx="50">
    <animateTransform keyTimes="0;1" values="0 50 50;360 50 50" dur="1s" repeatCount="indefinite" type="rotate" attributeName="transform"></animateTransform>
</circle><g></g></g><!-- [ldio] generated by https://loading.io --></svg>`;e(document).ready(function(){e(document).on("submit","#tfhb-reg-from",function(o){o.preventDefault(),$this=e(this);var r=new FormData(this),s=$this.find(".tfhb-submit-icon").html();$this.find(".tfhb-submit-icon svg").remove(),$this.find(".tfhb-submit-icon").append(a),$this.find(".tfhb-error").removeClass("tfhb-error"),$this.find(".tfhb-error-text").remove(),$this.find(".tfhb-notice").remove(),r.append("action","tfhb_registration"),e.ajax({url:tfhb_app_booking.ajax_url,type:"POST",data:r,processData:!1,contentType:!1,success:function(t){if(t.success)$this.find(".tfhb-submit-icon svg").remove(),$this.find(".tfhb-submit-icon").append(s),$this.html(""),$this.append(`<div class="tfhb-notice tfhb-success">${t.message}</div>`);else{$this.find(".tfhb-submit-icon svg").remove(),$this.find(".tfhb-submit-icon").append(s);let n=t.fieldErrors;for(let i in n){let f='<small class="tfhb-error-text">'+n[i]+"</small>";$this.find(`[name="${i}"]`).addClass("tfhb-error"),$this.find(`[name="${i}"]`).after(f)}t.message&&$this.append(`<div class="tfhb-notice tfhb-error">${t.message}</div>`)}},error:function(t){console.log(t)}})})})})(jQuery);
