(function(i){i(document).ready(function(){let f=`<svg  xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid" style="shape-rendering: auto; display: block; background: transparent;" width="20" height="20" xmlns:xlink="http://www.w3.org/1999/xlink"><g><circle stroke-dasharray="164.93361431346415 56.97787143782138" r="35" stroke-width="9" stroke="#ffffff" fill="none" cy="50" cx="50">
                        <animateTransform keyTimes="0;1" values="0 50 50;360 50 50" dur="1s" repeatCount="indefinite" type="rotate" attributeName="transform"></animateTransform>
                    </circle><g></g></g><!-- [ldio] generated by https://loading.io --></svg>`;i(document).on("submit","#tfhb-login-from",function(o){o.preventDefault(),$this=i(this);var s=new FormData(this),r=$this.find(".tfhb-submit-icon").html();$this.find(".tfhb-submit-icon svg").remove(),$this.find(".tfhb-submit-icon").append(f),$this.find(".tfhb-error").removeClass("tfhb-error"),$this.find(".tfhb-error-text").remove(),$this.find(".tfhb-notice").remove(),s.append("action","tfhb_sign_in"),i.ajax({url:tfhb_app_booking.ajax_url,type:"POST",data:s,processData:!1,contentType:!1,success:function(t){if(t.success)$this.find(".tfhb-submit-icon svg").remove(),$this.find(".tfhb-submit-icon").append(r),window.location.href=t.redirect_url;else{let n=t.fieldErrors;$this.find(".tfhb-submit-icon svg").remove(),$this.find(".tfhb-submit-icon").append(r);for(let e in n){let a='<small class="tfhb-error-text">'+n[e]+"</small>";$this.find(`[name="${e}"]`).addClass("tfhb-error"),$this.find(`[name="${e}"]`).after(a)}t.message&&$this.append(`<div class="tfhb-notice tfhb-error">${t.message}</div>`)}},error:function(t){console.log(t)}})}),i(document).on("submit","#tfhb-forgot-password-from",function(o){o.preventDefault(),$this=i(this);var s=new FormData(this),r=$this.find(".tfhb-submit-icon").html();$this.find(".tfhb-submit-icon svg").remove(),$this.find(".tfhb-submit-icon").append(f),$this.find(".tfhb-error").removeClass("tfhb-error"),$this.find(".tfhb-error-text").remove(),$this.find(".tfhb-notice").remove(),s.append("action","tfhb_forgot_password"),i.ajax({url:tfhb_app_booking.ajax_url,type:"POST",data:s,processData:!1,contentType:!1,success:function(t){if(t.success)$this.find(".tfhb-submit-icon svg").remove(),$this.find(".tfhb-submit-icon").append(r),$this.append(`<div class="tfhb-notice tfhb-success">${t.message}</div>`);else{let n=t.fieldErrors;$this.find(".tfhb-submit-icon svg").remove(),$this.find(".tfhb-submit-icon").append(r);for(let e in n){let a='<small class="tfhb-error-text">'+n[e]+"</small>";$this.find(`[name="${e}"]`).addClass("tfhb-error"),$this.find(`[name="${e}"]`).after(a)}t.message&&$this.append(`<div class="tfhb-notice tfhb-error">${t.message}</div>`)}},error:function(t){console.log(t)}})}),i(document).on("submit","#tfhb-reset-password-from",function(o){o.preventDefault(),$this=i(this);var s=new FormData(this),r=$this.find(".tfhb-submit-icon").html();$this.find(".tfhb-submit-icon svg").remove(),$this.find(".tfhb-submit-icon").append(f),$this.find(".tfhb-error").removeClass("tfhb-error"),$this.find(".tfhb-error-text").remove(),$this.find(".tfhb-notice").remove(),s.append("action","tfhb_reset_password"),i.ajax({url:tfhb_app_booking.ajax_url,type:"POST",data:s,processData:!1,contentType:!1,success:function(t){if(t.success)$this.find(".tfhb-submit-icon svg").remove(),$this.find(".tfhb-submit-icon").append(r),$this.append(`<div class="tfhb-notice tfhb-success">${t.message}</div>`);else{let n=t.fieldErrors;$this.find(".tfhb-submit-icon svg").remove(),$this.find(".tfhb-submit-icon").append(r);for(let e in n){let a='<small class="tfhb-error-text">'+n[e]+"</small>";$this.find(`[name="${e}"]`).addClass("tfhb-error"),$this.find(`[name="${e}"]`).after(a)}t.message&&$this.append(`<div class="tfhb-notice tfhb-error">${t.message}</div>`)}}})})})})(jQuery);
